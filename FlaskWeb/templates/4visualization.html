{% extends "main.html" %}

{% block content %}
<div class="visualization-container">
    <h3>분석 결과 시각화</h3>
    <hr>
    <div class="section">
        <p>
            이번 분석은 지방 인구 감소 현상에서 출발했다.<br>
            순이동률 비교 그래프를 통해 보면,<br>
            2015년 이후 비수도권 지역의 순이동률은 급격한 하락세를 보이며,<br>
            지방 청년층 이탈과 지역 인구 유출이 심화되고 있음을 확인할 수 있다.<br>
        </p>
    </div>

    <!-- 네비게이션 바 추가 -->
    <nav class="visualization-nav">
        <button onclick="loadContent('overcrowding')" class="nav-button">수도권 과밀화</button>
        <button onclick="loadContent('lowbirth')" class="nav-button">저출산</button>
    </nav>

    <!-- 콘텐츠가 로드될 영역 -->
    <div id="content-area"></div>
</div>

<script>
    function loadContent(contentType) {
        let url;
        if (contentType === 'overcrowding') {
            url = "{{ url_for('get_overcrowding_content') }}";
        } else if (contentType === 'lowbirth') {
            url = "{{ url_for('get_lowbirth_content') }}";
        }

        fetch(url)
            .then(response => response.text())
            .then(data => {
                document.getElementById('content-area').innerHTML = data;
            })
            .catch(error => console.error('Error:', error));
    }
</script>
{% endblock %}